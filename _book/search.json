[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Seasonal adjustment with R",
    "section": "",
    "text": "Preface"
  },
  {
    "objectID": "01-intro.html",
    "href": "01-intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "Since the 20th century, more and more infra-annual statistics are produced, especially by national institutes, to analyse the short-term evolution of economies. It is for example the case of the gross domestic product (GDP), unemployment rate, household consumption of goods and industrial production indices. However, most of those time series are affected by seasonal and trading days effects. A seasonal effect is an effect that occurs in the same calendar month with similar magnitude and direction from year to year. For instance, automobile production is usually lower during summer, due to holidays, and chocolate sales are usually higher in December, due to Christmas. Trading days effect appears when a time series is affected by calendar month’s weekday composition. For example retail sales are usually higher on Saturday, thus it is likely that they will be higher in months with a surplus of weekend days.\nSeasonal and trading days effects can hamper the analysis of infra-annual movements of a time series or the spatial comparison. This is the reason why time series are often seasonally and trading days adjusted, where seasonal adjustment is the process of removing the effects of seasonal and trading day fluctuations."
  },
  {
    "objectID": "01-intro.html#jdemetra-and-rjdemetra",
    "href": "01-intro.html#jdemetra-and-rjdemetra",
    "title": "1  Introduction",
    "section": "1.2 JDemetra+ and RJDemetra",
    "text": "1.2 JDemetra+ and RJDemetra\nJDemetra+ is a tool for seasonal adjustment (SA) developed by the National Bank of Belgium (NBB) in cooperation with the Deutsche Bundesbank and Eurostat in accordance with the Guidelines of the European Statistical System (ESS) (Eurostat 2015). It implements the concepts and algorithms used in the two leading seasonal adjustment methods: TRAMO-SEATS and X-13ARIMA. Those methods have been re-engineered using an object-oriented approach that facilitates estimations handling, extensions and modifications.\nJDemetra+ has been officially recommended, since 2 February 2015, to the members of the ESS and the European System of Central Banks as software for seasonal and calendar adjustment of official statistics.\nBesides seasonal adjustment, JDemetra+ bundles other time series models that are useful in the production and analysis of economic statistics, including outlier detection, nowcasting, temporal disaggregation or benchmarking. More details on the methodology used in JDemetra+ can be found in the JDemetra+ manuals and user guides (Grudkowska 2015a, 2015b).\nThe package RJDemetra ?R-RJDemetra provides an R interface to the seasonal adjustment software JDemetra+. RJDemetra uses Java libraries of JDemetra+, therefore relies on the rJava ?R-rJava package. Consequently Java SE 8 or later versions are required. The package allows to:\n\nperform seasonal adjustment with TRAMO-SEATS and X-13ARIMA with pre-defined and user-defined specifications;\n\naccess all outputs available in JDemetra+;\n\nimport and export JDemetra+ workspaces.\n\nIt can be installed from CRAN:\n\ninstall.packages(\"RJDemetra\")"
  },
  {
    "objectID": "01-intro.html#dataset",
    "href": "01-intro.html#dataset",
    "title": "1  Introduction",
    "section": "1.3 Dataset",
    "text": "1.3 Dataset\nThe package RJDemetra includes the sts_inpr_m database of the Eurostat, which contains monthly industrial production indices in manufacturing for the European Union. It contains 37 time series from January 1990 to December 2017 which are considered to be affected by seasonal and trading days effects. The data are ts objects and can be accessed using the ipi_c_eu object. The following snippet of code plots the industrial production index of the euro area (EA19):\n\nlibrary(\"RJDemetra\")\nplot(ipi_c_eu[, \"FR\"])"
  },
  {
    "objectID": "01-intro.html#print-styling",
    "href": "01-intro.html#print-styling",
    "title": "1  Introduction",
    "section": "1.4 Print styling",
    "text": "1.4 Print styling\nBy default, a colour styling is used for the print methods of the objects created by RJDemetra. It can causes troubles with some outputs — for example with rmarkdown ?R-rmarkdown — and can be disabled in each print function with the argument enable_print_style = FALSE or setting the global option enable_print_style to FALSE:\n\noptions(enable_print_style = FALSE)\n\n\n\n\n\nEurostat. 2015. “ESS Guidelines on Seasonal Adjustment.” Eurostat Methodologies; Working Papers, European Commission. https://doi.org/10.2785/317290.\n\n\nGrudkowska, Sylwia. 2015a. “JDemetra+ Reference Manual.” Department of Statistics, Narodowy Bank Polski, Warsaw. https://ec.europa.eu/eurostat/cros/system/files/jdemetra_reference_manual_version_2.1_0.pdf.\n\n\n———. 2015b. “JDemetra+ User Guide.” Department of Statistics, Narodowy Bank Polski, Warsaw. https://ec.europa.eu/eurostat/cros/system/files/jdemetra_user_guide_version_2.2.pdf."
  },
  {
    "objectID": "02-literature.html",
    "href": "02-literature.html",
    "title": "2  Brief history of seasonal adjustment methods",
    "section": "",
    "text": "The most popular toto seasonal adjustment methods are TRAMO-SEATS1 (Gómez and Maravall 1996; Caporello and Maravall 2004), a parametric method based on ARIMA models, and X-13ARIMA2 (Findley et al. 1998; Ladiray and Quenneville 2001), a non-parametric method based on moving averages. Both methods are recommended by Eurostat and the European Central Bank (ECB) for adjusting economic indicators. These two methods proceed in two steps, summarized in figure @ref(fig:2-step-proc).\n\n\n\n\n\nX-13ARIMA and TRAMO-SEATS 2-step process: pre-adjustment and decomposition.\n\n\n\n\nThe first step, called pre-adjustment or linearisation, consists of pre-adjusting the time series by removing the deterministic effects and estimating missing observations. Next, in the second part of seasonal adjustment, called the decomposition, the pre-adjusted series is decomposed in order to determine the seasonal component. As a result of this process, the final seasonally adjusted series shall be free of seasonal and calendar-related movements.\nThe pre-adjustment step is very similar in X-13ARIMA and in TRAMO-SEATS (section @ref(sec:pre-adjustment)), whereas the decomposition differs between the two methods. In X-13ARIMA, the X-11 algorithm decomposes the time series by means of linear filters (section @ref(subsec:saX11)). In TRAMO-SEATS, SEATS (Signal Extraction in ARIMA Time Series) decomposes the observed series with a ARIMA-model based method (section @ref(subsec:saSeats})).\n\n\n\n\nCaporello, Gianluca, and Agustin Maravall. 2004. “Program TSW: Revised Reference Manual.” {T}echnical {R}eport, {R}esearch {D}epartment. Banco de España. https://www.bde.es/f/webbde/SES/Secciones/Publicaciones/PublicacionesSeriadas/DocumentosOcasionales/04/Fic/do0408e.pdf.\n\n\nFindley, David F., Brian C. Monsell, William R. Bell, Mark C. Otto, and Bor-Chung Chen. 1998. “New Capabilities and Methods of the X-12-ARIMA Seasonal-Adjustment Program.” Journal of Business & Economic Statistics 16 (2): 127–52. http://www.jstor.org/stable/1392565.\n\n\nGómez, Víctor, and Agustin Maravall. 1996. “Programs TRAMO and SEATS. Instructions for the User.” Working Papers 9628. Banco de España.\n\n\nLadiray, Dominique, and Benoit Quenneville. 2001. Seasonal Adjustment with the x-11 Method. Berlin; New York: Springer-Verlag Inc.\n\n\n\n\n\nThe program TRAMO-SEATS was developed by Gianluca Caporello and Agustin Maravall — with programming support from Domingo Perez and Roberto Lopez — at the Bank of Spain. It is based on the program TRAMO-SEATS, previously developed by Victor Gomez and Agustin Maravall.↩︎\nThe program X-13ARIMA is a produced, distributed, and maintained by the US-Census Bureau.↩︎"
  },
  {
    "objectID": "04-linearisation.html",
    "href": "04-linearisation.html",
    "title": "3  Linearisation with TRAMO and RegARIMA models",
    "section": "",
    "text": "As mentioned before, the first step of seasonal adjustment consists of pre-adjusting the time series by removing from it the deterministic effects like outliers, calendar and regression effects. This step estimates also the missing observations, as well as produces forecasts and backasts of the pre-adjusted series which allows applying linear filters at both ends of the series in the decomposition part of the seasonal adjustment. All this is achieved with a RegARIMA model (model with ARIMA errors) as specified below.\n\\[z_t=y_t\\beta+x_t\\]\nwhere\nThe polynomial \\(\\phi(B)\\) is a stationary autoregressive (AR) polynomial in \\(B\\), which is a product of the stationary regular AR polynomial in \\(B\\) and the stationary seasonal polynomial in \\(B^s\\):\n\\[\\phi(B)=\\phi_p(B)\\Phi_{bp}(B^s)=(1+\\phi_1B+\\dots+\\phi_pB^p)(1+\\Phi_1B^s+\\dots+\\Phi_{bp}B^{bps})\\]\nwhere:\nThe polynomial \\(\\theta(B)\\) is an invertible moving average (MA) polynomial in \\(B\\), which is a product of the invertible regular MA polynomial in \\(B\\) and the invertible seasonal MA polynomial in \\(B^s\\):\n\\[\\theta(B)=\\theta_q(B)\\Theta_{bq}(B^s)=(1+\\theta_1B+\\dots+\\theta_qB^q)(1+\\Theta_1B^s+\\dots+\\Theta_{bq}B^{bqs})\\]\nwhere:\nThe polynomial \\(\\delta(B)\\) is the non-stationary AR polynomial in \\(B\\) (unit roots):\n\\[\\delta(B)=(1-B)^d(1-B^s)^{d_s}\\]\nwhere:\nFurthermore, in this step an automatic modelling is implemented (in both methods) to: determine the decomposition of the series, detect outliers and calendar effects and to adjust residuals to an ARIMA models. A detailed description can be found in Gómez and Maravall (1998)."
  },
  {
    "objectID": "04-linearisation.html#pre-def-est",
    "href": "04-linearisation.html#pre-def-est",
    "title": "3  Linearisation with TRAMO and RegARIMA models",
    "section": "3.1 Estimate a pre-defined RegARIMA and seasonal adjustment model",
    "text": "3.1 Estimate a pre-defined RegARIMA and seasonal adjustment model\nAs in JDemetra+, RJDemetra allows to perform seasonal adjustment using pre-defined model specifications that are the most common specifications and are recommended to users for the start of their analysis. They are separately defined for TRAMO-SEATS and X-13ARIMA methods. It is also possible to perform only the first step of seasonal adjustment; i.e. the RegARIMA estimation. The pre-defined model specifications are described in detail in tables @ref(tab:pre-def-ts) and @ref(tab:pre-def-x13). They are identical for pre-adjustment (column 1) and for seasonal adjustment (column 2). The settings described in tables @ref(tab:pre-def-ts) and @ref(tab:pre-def-x13) refer to:\n\nTransformation: test to choose between an additive decomposition (no transformation) and a multiplicative decomposition (logarithmic transformation).\n\nPre-adjustment for leap-year (not available for TRAMO): in the case of a multiplicative decomposition a correction of the February values is applied to the original series (before transformation). The original values in February are multiplied by \\(\\frac{28.25}{29}\\) for leap years, by \\(\\frac{28.25}{28}\\) for non-leap years and values for other months are not modified. In the case of multiplicative models, this is equivalent to adding a leap year regressor (Bell 1992).\n\nWorking days/trading days: test for the presence of working day/trading day effects. In TRAMO an automatic choice between working days and trading days regressors is done with “RSAFull”.\n\nEaster: pre-test for the presence of the Easter effect. For TRAMO-SEATS the default length of the Easter effect is 6 days and for X-13ARIMA an automatic detection of the duration is done (1, 8 or 15 days).\n\nOutliers: an automatic identification of three types of outliers: AO (additive outlier), LS (level shift) and TC (transitory change), using a default critical value. The automatic identification of SO (seasonal outlier) is not enabled by default.\n\nARIMA model: the choice between fixing the ARIMA model structure to (0,1,1)(0,1,1) (Airline model) or searching for ARIMA model orders using an automatic model identification procedure. The Airline model is used as a default model in several TRAMO-SEATS and X-13ARIMA specifications as it has been shown in several studies that it is appropriate in many cases for real seasonal monthly or a quarterly time series. Moreover, the Airline model approximates well many other models and provides an excellent “benchmark” model (Maravall 2009).\n\n\n\n\nPre-defined specification for TRAMO and TRAMO-SEATS\n \n\nSpecification\n\n\n  \n    TRAMO \n    TRAMO-SEATS \n    Trans-formation \n    Pre-adjust-ment for leap-year \n    Working days \n    Trading days \n    Easter effect \n    Outliers \n    ARIMA model \n  \n \n\n  \n    TR0 \n    RSA0 \n    no \n    no \n    no \n    no \n    no \n    no \n    (0,1,1)(0,1,1) \n  \n  \n    TR1 \n    RSA1 \n    test \n    no \n    no \n    no \n    no \n    test \n    (0,1,1)(0,1,1) \n  \n  \n    TR2 \n    RSA2 \n    test \n    no \n    test \n    no \n    test \n    test \n    (0,1,1)(0,1,1) \n  \n  \n    TR3 \n    RSA3 \n    test \n    no \n    no \n    no \n    no \n    test \n    AMI \n  \n  \n    TR4 \n    RSA4 \n    test \n    no \n    test \n    no \n    test \n    test \n    AMI \n  \n  \n    TR5 \n    RSA5 \n    test \n    no \n    no \n    yes \n    test (Standard) \n    test \n    AMI \n  \n  \n    TRfull (default) \n    RSAfull (default) \n    test \n    yes \n    test \n    test \n    test (Include Easter) \n    test \n    AMI \n  \n\n\n\n\n\n\n\nPre-defined specification for RegARIMA and X-13ARIMA\n \n\nSpecification\n\n\n  \n    RegARIMA \n    X-13ARIMA \n    Trans-formation \n    Pre-adjust-ment for leap-year \n    Working days \n    Trading days \n    Easter effect \n    Outliers \n    ARIMA model \n  \n \n\n  \n    RG0 \n     \n    no \n    no \n    no \n    no \n    no \n    no \n    (0,1,1)(0,1,1) \n  \n  \n    RG1 \n    RSA1 \n    test \n    no \n    no \n    no \n    no \n    test \n    (0,1,1)(0,1,1) \n  \n  \n    RG2c \n    RSA2c \n    test \n    test \n    test \n    no \n    test \n    test \n    (0,1,1)(0,1,1) \n  \n  \n    RG3 \n    RSA3 \n    test \n    no \n    no \n    no \n    no \n    test \n    AMI \n  \n  \n    RG4c \n    RSA4c \n    test \n    test \n    test \n    no \n    test \n    test \n    AMI \n  \n  \n    RG5c (default) \n    RSA5 (default) \n    test \n    test \n    no \n    test \n    test \n    test \n    AMI \n  \n\n\n\n\nTo estimate a model with a pre-defined specification the following four functions can be used in RJDemetra:\n\nRegARIMA\n\nX-13ARIMA method: regarima_x13()\nTRAMO-SEATS method: regarima_tramoseats()\n\nSeasonal adjustment\n\nX-13ARIMA method: x13()\n\nTRAMO-SEATS method: tramoseats()\n\n\nWhere the second argument refers to model specifications as described in table @ref(tab:pre_def_ts) and @ref(tab:pre_def_x13).\nFor example:\n\nlibrary(RJDemetra)\nmyseries <- ipi_c_eu[, \"FR\"]\nregx13 <- regarima_x13(myseries, spec = \"RG5c\")\nregts <- regarima_tramoseats(myseries, spec = \"TRfull\")\nsax13 <- x13(myseries, spec = \"RSA3\", userdefined = NULL)\nsats <- tramoseats(myseries, spec = \"RSAfull\", userdefined = NULL)\n\nAs mentioned before the model specifications can be modified by users, including the possibility to incorporate user-defined regressors."
  },
  {
    "objectID": "04-linearisation.html#working-day-adjustment",
    "href": "04-linearisation.html#working-day-adjustment",
    "title": "3  Linearisation with TRAMO and RegARIMA models",
    "section": "3.2 working day adjustment",
    "text": "3.2 working day adjustment\nprinciples, create a calendar"
  },
  {
    "objectID": "04-linearisation.html#other-adjustment-outliers-etc.",
    "href": "04-linearisation.html#other-adjustment-outliers-etc.",
    "title": "3  Linearisation with TRAMO and RegARIMA models",
    "section": "3.3 other adjustment (outliers, etc.)",
    "text": "3.3 other adjustment (outliers, etc.)\n\n\n\n\nBell, William Robert. 1992. “Alternative Approaches to Length of Month Adjustment.” Statistical Research Division. US Bureau of the Census Statistical Research Division Report Number: Census/SRD/RR 92 (01). https://www.census.gov/srd/papers/pdf/rr92-17.pd.\n\n\nGómez, Víctor, and Agustin Maravall. 1998. “Automatic Modeling Methods for Univariate Series.” Working Papers 9608. Banco de España. https://EconPapers.repec.org/RePEc:bde:wpaper:9808.\n\n\nMaravall, Agustin. 2009. “Identification of Reg-ARIMA Models and of Problematic Series in Large Scale Applications Program TSW (TRAMO-SEATS for Windows),” July. https://www.bde.es/f/webbde/SES/servicio/Programas_estadisticos_y_econometricos/Notas_introductorias_TRAMO_SEATS/ficheros/Large_Scale_TSW.pdf."
  },
  {
    "objectID": "05-seasonaladjustment.html",
    "href": "05-seasonaladjustment.html",
    "title": "4  Seasonal adjustment",
    "section": "",
    "text": "seasonal adjustment, create a specification, main indicators"
  },
  {
    "objectID": "05-seasonaladjustment.html#subsec:saX11",
    "href": "05-seasonaladjustment.html#subsec:saX11",
    "title": "4  Seasonal adjustment",
    "section": "4.1 Decomposition with X-11",
    "text": "4.1 Decomposition with X-11\nIn this step, the pre-adjusted series (\\(y\\)) is decomposed into the following components: trend-cycle (\\(t\\)), seasonal component (\\(s\\)) and irregular component (\\(i\\)), where the decomposition can be:\n\nadditive (\\(y = t + s + i\\));\n\nmultiplicative (\\(y = t \\times s \\times i\\));\n\nlog-additive (\\(\\log(y) = \\log(t) + \\log(s) + \\log(i)\\));\n\npseudo-additive (\\(y = t \\times (s + i - 1)\\)).\n\nIn X-11, which is an iterative non-parametric method, the decomposition is achieved by means of linear filters (Findley et al. 1998; Ladiray and Quenneville 2001). The basic procedure consists of a simple 3-step algorithm:\n\nEstimate the trend by means of moving averages;\nRemove the trend and leave the seasonal and irregular components;\nEstimate the seasonal component using moving averages.\n\nAt each step, the program selects a moving average among a large set of predefined smoothers, according to the characteristics of the series. X-11 also incorporates an automatic detection and correction of (additive) outliers to make the use of linear filters more robust."
  },
  {
    "objectID": "05-seasonaladjustment.html#subsec:saSeats",
    "href": "05-seasonaladjustment.html#subsec:saSeats",
    "title": "4  Seasonal adjustment",
    "section": "4.2 Decomposition with SEATS",
    "text": "4.2 Decomposition with SEATS\nSEATS is a program for decomposing time series into their unobserved components following an ARIMA model that extracts from a time series its different signals (Gómez and Maravall 1996; Caporello and Maravall 2004). The decomposition can be:\n\nadditive or ;\nmultiplicative (equivalent to an additive model after taking the logarithm).\n\nSEATS decomposes the linearized series into the following components:\n\ntrend-cycle component: captures the low-frequency variation of the series and displays a spectral peak at frequency 0;\n\nseasonal component: captures the spectral peaks at seasonal frequencies;\n\nirregular component: captures erratic, white-noise behaviour, and hence has a flat spectrum;\n\ntransitory component: a zero-mean stationary component that picks up transitory fluctuations that should not contaminate the trend-cycle or seasonal component and are not white-noise.\n\nThe components are determined and fully derived from the structure of the ARIMA model for the observed series.\nThe decomposition assumes orthogonal components, and each one will have in turn an ARIMA expression. In order to identify the components, it is required that (except for the irregular one) they are clean of noise. This is called the “canonical” property, and implies that no additive white noise can be extracted from a component that is not the irregular one. In this way, the variance of the irregular component is maximized, and the trend-cycle and seasonal component are kept as stable as possible (compatible with the stochastic nature of model).\n\n\n\n\nCaporello, Gianluca, and Agustin Maravall. 2004. “Program TSW: Revised Reference Manual.” {T}echnical {R}eport, {R}esearch {D}epartment. Banco de España. https://www.bde.es/f/webbde/SES/Secciones/Publicaciones/PublicacionesSeriadas/DocumentosOcasionales/04/Fic/do0408e.pdf.\n\n\nFindley, David F., Brian C. Monsell, William R. Bell, Mark C. Otto, and Bor-Chung Chen. 1998. “New Capabilities and Methods of the X-12-ARIMA Seasonal-Adjustment Program.” Journal of Business & Economic Statistics 16 (2): 127–52. http://www.jstor.org/stable/1392565.\n\n\nGómez, Víctor, and Agustin Maravall. 1996. “Programs TRAMO and SEATS. Instructions for the User.” Working Papers 9628. Banco de España.\n\n\nLadiray, Dominique, and Benoit Quenneville. 2001. Seasonal Adjustment with the x-11 Method. Berlin; New York: Springer-Verlag Inc."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "5  Summary",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "9999-references.html",
    "href": "9999-references.html",
    "title": "References",
    "section": "",
    "text": "Bell, William Robert. 1992. “Alternative Approaches to Length of\nMonth Adjustment.” Statistical Research Division. US Bureau\nof the Census Statistical Research Division Report Number:\nCensus/SRD/RR 92 (01). https://www.census.gov/srd/papers/pdf/rr92-17.pd.\n\n\nCaporello, Gianluca, and Agustin Maravall. 2004. “Program\nTSW: Revised Reference Manual.”\n{T}echnical {R}eport, {R}esearch {D}epartment. Banco de España. https://www.bde.es/f/webbde/SES/Secciones/Publicaciones/PublicacionesSeriadas/DocumentosOcasionales/04/Fic/do0408e.pdf.\n\n\nEurostat. 2015. “ESS Guidelines on Seasonal Adjustment.”\nEurostat Methodologies; Working Papers, European Commission. https://doi.org/10.2785/317290.\n\n\nFindley, David F., Brian C. Monsell, William R. Bell, Mark C. Otto, and\nBor-Chung Chen. 1998. “New Capabilities and Methods of the\nX-12-ARIMA Seasonal-Adjustment\nProgram.” Journal of Business & Economic Statistics\n16 (2): 127–52. http://www.jstor.org/stable/1392565.\n\n\nGómez, Víctor, and Agustin Maravall. 1996. “Programs TRAMO and\nSEATS. Instructions for the User.” Working Papers 9628. Banco de\nEspaña.\n\n\n———. 1998. “Automatic Modeling Methods for Univariate\nSeries.” Working Papers 9608. Banco de España. https://EconPapers.repec.org/RePEc:bde:wpaper:9808.\n\n\nGrudkowska, Sylwia. 2015a. “JDemetra+ Reference Manual.”\nDepartment of Statistics, Narodowy Bank Polski, Warsaw. https://ec.europa.eu/eurostat/cros/system/files/jdemetra_reference_manual_version_2.1_0.pdf.\n\n\n———. 2015b. “JDemetra+ User Guide.” Department of\nStatistics, Narodowy Bank Polski, Warsaw. https://ec.europa.eu/eurostat/cros/system/files/jdemetra_user_guide_version_2.2.pdf.\n\n\nLadiray, Dominique, and Benoit Quenneville. 2001. Seasonal\nAdjustment with the x-11 Method. Berlin; New York: Springer-Verlag\nInc.\n\n\nMaravall, Agustin. 2009. “Identification of Reg-ARIMA Models and\nof Problematic Series in Large Scale Applications Program TSW\n(TRAMO-SEATS for Windows),” July. https://www.bde.es/f/webbde/SES/servicio/Programas_estadisticos_y_econometricos/Notas_introductorias_TRAMO_SEATS/ficheros/Large_Scale_TSW.pdf."
  }
]